@startuml
title Sequence Diagram Sistem Informasi SIJAWARA (Admin) - CFP Driven (96 CFP)

autonumber
actor Admin
boundary UI as "Web Interface"
control AuthController
control DashboardController
control CourseController
control KDMPController
control WebinarController
control UserController
database DB

== Login Admin ==
Admin -> UI : Input email <<E>>
Admin -> UI : Input password <<E>>
UI -> AuthController : Kirim email <<E>>
UI -> AuthController : Kirim password <<E>>
AuthController -> DB : Read user <<R>>
AuthController -> DB : Read role <<R>>
AuthController -> DB : Read status akun <<R>>
AuthController -> DB : Read password hash <<R>>
AuthController -> DB : Read konfigurasi sistem <<R>>     // +CFP
AuthController -> DB : Write session <<W>>
AuthController -> DB : Write audit login <<W>>
AuthController --> UI : Status login <<X>>
UI --> Admin : Dashboard tampil <<X>>

== Dashboard Monitoring ==
Admin -> UI : Request dashboard <<E>>
UI -> DashboardController : Load dashboard <<E>>
DashboardController -> DB : Read count kursus <<R>>
DashboardController -> DB : Read count webinar <<R>>
DashboardController -> DB : Read count user <<R>>
DashboardController -> DB : Read notifikasi <<R>>
DashboardController -> DB : Read data grafik <<R>>
DashboardController -> DB : Read preferensi dashboard <<R>>   // +CFP
DashboardController --> UI : Data dashboard <<X>>
UI --> Admin : Render widget <<X>>

== Manajemen Kursus ==
Admin -> UI : Input judul kursus <<E>>
Admin -> UI : Input deskripsi kursus <<E>>
Admin -> UI : Input tanggal kursus <<E>>
Admin -> UI : Input benefit kursus <<E>>
UI -> CourseController : Submit kursus <<E>>
CourseController -> DB : Read kategori <<R>>
CourseController -> DB : Read instruktur <<R>>
CourseController -> DB : Read validasi judul <<R>>
CourseController -> DB : Write kursus <<W>>
CourseController -> DB : Write detail kursus <<W>>
CourseController -> DB : Write benefit kursus <<W>>
CourseController -> DB : Write audit kursus <<W>>
CourseController --> UI : Status simpan <<X>>
UI --> Admin : Refresh daftar kursus <<X>>

Admin -> UI : Input judul materi <<E>>
Admin -> UI : Input deskripsi materi <<E>>
UI -> CourseController : Submit materi <<E>>
CourseController -> DB : Write materi <<W>>
CourseController -> DB : Write relasi materi <<W>>
CourseController -> DB : Write audit materi <<W>>
CourseController --> UI : Materi tersimpan <<X>>

Admin -> UI : Input soal kuis <<E>>
Admin -> UI : Input opsi jawaban <<E>>
UI -> CourseController : Submit kuis <<E>>
CourseController -> DB : Write kuis <<W>>
CourseController -> DB : Write soal kuis <<W>>
CourseController -> DB : Write audit kuis <<W>>
CourseController --> UI : Kuis tersimpan <<X>>

== Manajemen KDMP ==
Admin -> UI : Input judul KDMP <<E>>
Admin -> UI : Input deskripsi KDMP <<E>>
UI -> KDMPController : Submit KDMP <<E>>
KDMPController -> DB : Read data KDMP <<R>>
KDMPController -> DB : Read kategori KDMP <<R>>
KDMPController -> DB : Write KDMP <<W>>
KDMPController -> DB : Write detail KDMP <<W>>
KDMPController -> DB : Write audit KDMP <<W>>
KDMPController --> UI : Status KDMP <<X>>

Admin -> UI : Input materi KDMP <<E>>
UI -> KDMPController : Submit materi KDMP <<E>>
KDMPController -> DB : Write materi KDMP <<W>>
KDMPController -> DB : Write relasi KDMP <<W>>
KDMPController --> UI : Materi KDMP tersimpan <<X>>

== Manajemen Webinar ==
Admin -> UI : Input judul webinar <<E>>
Admin -> UI : Input jadwal webinar <<E>>
Admin -> UI : Input lokasi webinar <<E>>
UI -> WebinarController : Submit webinar <<E>>
WebinarController -> DB : Write webinar <<W>>
WebinarController -> DB : Write detail webinar <<W>>
WebinarController -> DB : Write audit webinar <<W>>
WebinarController --> UI : Webinar tersimpan <<X>>

Admin -> UI : Request peserta webinar <<E>>
UI -> WebinarController : Load peserta <<E>>
WebinarController -> DB : Read peserta <<R>>
WebinarController -> DB : Read detail peserta <<R>>
WebinarController --> UI : Data peserta <<X>>

== Manajemen Peserta ==
Admin -> UI : Input edit nama <<E>>
Admin -> UI : Input edit email <<E>>
UI -> UserController : Submit edit <<E>>
UserController -> DB : Read user <<R>>
UserController -> DB : Read role user <<R>>
UserController -> DB : Write user <<W>>
UserController -> DB : Write role user <<W>>
UserController --> UI : Update sukses <<X>>

Admin -> UI : Request detail peserta <<E>>
UI -> UserController : Load detail <<E>>
UserController -> DB : Read histori kursus <<R>>
UserController -> DB : Read histori webinar <<R>>
UserController --> UI : Detail tampil <<X>>

== Logout ==
Admin -> UI : Klik logout <<E>>
UI -> AuthController : Hapus session <<E>>
AuthController -> DB : Write audit logout <<W>>
AuthController --> UI : Redirect login <<X>>
UI --> Admin : Notifikasi logout berhasil <<X>>    // +CFP

@enduml