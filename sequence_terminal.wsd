@startuml
title Sistem Informasi Terminal & Transportasi Bus - CFP Driven (Total CFP 68)

autonumber
actor Penumpang
actor Petugas
boundary UI
control System
database DB
control API
control Payment

== Jadwal Keberangkatan Bus ==
Penumpang -> UI : Akses jadwal bus <<E>>
UI -> System : Request jadwal bus <<E>>
System -> DB : Read data jadwal <<R>>
System --> UI : Jadwal bus tampil <<X>>

Petugas -> UI : Input perubahan jadwal <<E>>
UI -> System : Submit perubahan jadwal <<E>>
System -> DB : Write jadwal terbaru <<W>>

== Tracking Kedatangan / Keberangkatan Bus ==
Petugas -> UI : Akses tracking bus <<E>>
UI -> System : Request posisi bus <<E>>
System -> API : Read data GPS bus <<R>>
API --> System : Data posisi bus <<X>>
System --> UI : Posisi bus real-time <<X>>
System -> DB : Write histori pergerakan <<W>>
System -> DB : Write waktu datang/berangkat <<W>>

== Kelola Tarif Retribusi ==
Petugas -> UI : Akses tarif retribusi <<E>>
UI -> System : Request data tarif <<E>>
System -> DB : Read tarif retribusi <<R>>
System --> UI : Daftar tarif tampil <<X>>

Petugas -> UI : Input perubahan tarif <<E>>
UI -> System : Submit tarif baru <<E>>
System -> DB : Write tarif retribusi <<W>>
System -> DB : Write histori tarif <<W>>

== Pembayaran Retribusi Digital ==
Petugas -> UI : Input tagihan retribusi <<E>>
UI -> System : Submit data tagihan <<E>>
System -> DB : Write data tagihan <<W>>
System -> Payment : Request pembayaran digital <<E>>
Payment --> System : Konfirmasi pembayaran <<X>>
System -> DB : Write status pembayaran <<W>>
System --> UI : Bukti pembayaran <<X>>
System -> DB : Write log transaksi <<W>>

== Manajemen Data PO Bus ==
Petugas -> UI : Akses data PO Bus <<E>>
UI -> System : Request data PO <<E>>
System -> DB : Read data PO Bus <<R>>
System --> UI : Data PO Bus tampil <<X>>

Petugas -> UI : Input tambah/ubah PO <<E>>
UI -> System : Submit data PO <<E>>
System -> DB : Write data PO Bus <<W>>
System -> DB : Write histori perubahan PO <<W>>

== Monitoring Kinerja PO ==
Petugas -> UI : Akses monitoring kinerja PO <<E>>
UI -> System : Request data kinerja <<E>>
System -> DB : Read data operasional PO <<R>>
System -> DB : Read indikator kinerja <<R>>
System --> UI : Hasil monitoring PO <<X>>
System -> DB : Write hasil evaluasi <<W>>

== Laporan Harian Terminal ==
Petugas -> UI : Input periode laporan <<E>>
UI -> System : Request laporan harian <<E>>
System -> DB : Read data aktivitas terminal <<R>>
System --> UI : Laporan harian terminal <<X>>
System -> DB : Write arsip laporan <<W>>

== Dashboard Analytics Kinerja ==
Petugas -> UI : Akses dashboard analytics <<E>>
UI -> System : Request data analitik <<E>>
System -> DB : Read statistik terminal <<R>>
System --> UI : Grafik & indikator kinerja <<X>>

== Monitoring Fasilitas Terminal ==
Petugas -> UI : Akses fasilitas terminal <<E>>
UI -> System : Request data fasilitas <<E>>
System -> DB : Read status fasilitas <<R>>
System --> UI : Kondisi fasilitas <<X>>

Petugas -> UI : Input laporan kerusakan <<E>>
UI -> System : Submit laporan fasilitas <<E>>
System -> DB : Write laporan fasilitas <<W>>
System -> DB : Write histori pemeliharaan <<W>>

== Display Board Real-Time API ==
System -> API : Push data jadwal <<E>>
API --> System : Konfirmasi diterima <<X>>
System --> UI : Data real-time tampil <<X>>
System -> DB : Write log pengiriman <<W>>
System -> API : Update data display <<E>>
System -> DB : Write log API display <<W>>

@enduml